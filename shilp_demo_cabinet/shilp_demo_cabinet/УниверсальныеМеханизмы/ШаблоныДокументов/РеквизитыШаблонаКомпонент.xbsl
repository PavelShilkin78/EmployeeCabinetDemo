импорт ИнтерфейсныеКомпонентыСтандартные

@ВПроекте
@Реализация
метод Инициализировать()
    ИнтерфейсныеКомпоненты.ИнициализироватьПодчиненныеКомпоненты(Компоненты)
    ОтслеживатьИзменениеДанных(Компоненты.Реквизиты, Истина)
;

метод РеквизитыИсточникДанные(): Массив<РеквизитШаблона>
    пер Данные: Массив<РеквизитШаблона>
    для Реквизит из ТаблицаРеквизитов.Реквизиты
        Данные.Добавить(Реквизит)
    ;
    возврат Данные
;

метод РеквизитыПослеСозданияСтроки(Источник: Список<ИсточникДанныхМассив<РеквизитШаблона>>, Событие: СобытиеСДанными<СтрокаСписка<РеквизитШаблона>>)
    Событие.Данные.ТолькоЧтение = ТолькоЧтение
;

@ВПроекте
метод ПроверкаЗаполнения(): Булево
    пер Результат = Истина
    для Реквизит из ТаблицаРеквизитов.Реквизиты
        если Реквизит.Обязательный
            если (Реквизит.ТипЗначения == ТипыПользовательскихПолей.Строка
                или Реквизит.ТипЗначения == ТипыПользовательскихПолей.Текст)
                    и (Реквизит.Значение == Неопределено
                        или (Реквизит.Значение как Строка).Пусто())
                        
                Реквизит.ОшибкаВвода = "Поле \"%{Реквизит.Заголовок}\" обязательно для заполнения"
                Результат = Ложь
            ;
            если (Реквизит.ТипЗначения == ТипыПользовательскихПолей.ЦелоеЧисло
                или Реквизит.ТипЗначения == ТипыПользовательскихПолей.Число2ЗнакаПослеЗапятой)
                    и (Реквизит.Значение == Неопределено
                        или Реквизит.Значение == 0)
                        
                Реквизит.ОшибкаВвода = "Поле \"%{Реквизит.Заголовок}\" обязательно для заполнения"
                Результат = Ложь
            ;
            если (Реквизит.ТипЗначения == ТипыПользовательскихПолей.Дата
                или Реквизит.ТипЗначения == ТипыПользовательскихПолей.Период)
                    и Реквизит.Значение == Неопределено
                        
                Реквизит.ОшибкаВвода = "Поле \"%{Реквизит.Заголовок}\" обязательно для заполнения"
                Результат = Ложь
            ;
        ;
    ;
    возврат Результат
;