импорт ИнтерфейсныеКомпонентыСтандартные
импорт СтандартноеПриложение

@Обработчик
метод ПослеЧтения()
    ТолькоПросмотр = Анкетирование.ПоШаблонуСозданыАнкеты(Объект.Ссылка)
    Компоненты.Конструктор.Инициализировать()
;

метод ФормаШирина(): Число
    возврат ОсновнойИнтерфейс.МаксимальнаяШиринаПанелейПодразделов() + 34 * Метрики.РАЗМЕР_ПОЛУИНТЕРВАЛА
;

метод ПроверкаЗаполнения(): Булево
    пер Результат = Истина
    
    если Объект.Наименование == ""
        Результат = Ложь
        СообщениеОбОшибке = "Не заполнен заголовок шаблона анкеты"
    ;
        
    возврат Результат
;

метод ПросмотрОбработчик(Команда: ОбычнаяКоманда)
    Компоненты.Конструктор.Просмотр()
;

метод КонструкторСохранениеШаблона(Источник: КонструкторШаблонаКомпонент, Событие: СобытиеСДанными<Анкетирование.СтруктураЗаписиШаблона>)
    если ТолькоПросмотр
        ИнтерфейсныеКомпоненты.ЗакрытьЗамещающуюФорму(этот)
        возврат
    ;
    Анкетирование.ЗаписатьШаблон(Событие.Данные)
    СобственнаяМодифицированность = Ложь
    СтандартныеФормы.ПоказатьУведомление("Сохранение выполнено!", "Анкета успешно сохранена", ОценкаИнформации.Положительная)
    ОбновленСписокШаблонов.Оповестить()
;