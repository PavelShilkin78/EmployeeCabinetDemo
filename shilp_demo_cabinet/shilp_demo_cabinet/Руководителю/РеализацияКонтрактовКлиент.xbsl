импорт ИнтерфейсныеКомпонентыСтандартные
импорт СтандартноеПриложение
импорт ВладельцыКабинетов
импорт Отпуск
импорт Отсутствия
импорт Криптография
импорт Уведомления

// Контракт ОсновнойИнтерфейсПоставщик
@ВПроекте
@Реализация
метод РазделыПриложения(): ЧитаемаяКоллекция<ОсновнойИнтерфейс.ОписаниеРаздела>
    если ВладельцыКабинетов.ЭтоРуководительПодразделения()
        возврат [ОписаниеРазделаРуководителю()]
    иначе
        возврат []
    ;
;

@ВПроекте
@Реализация
метод Виджеты(): ЧитаемаяКоллекция<ОсновнойИнтерфейс.ОписаниеВиджета>
    если ВладельцыКабинетов.ЭтоРуководительПодразделения()
        возврат [ОписаниеВиджетаРуководителю()]
    иначе
        возврат []
    ;
;

@ВПроекте
@Реализация
метод КомандыВсеФункции(): ЧитаемаяКоллекция<ОсновнойИнтерфейс.ОписательКомандыВсеФункции>
    возврат []
;

@ВПроекте
@Реализация
метод ДополнительныеКоманды(): ЧитаемыйМассив<Команда>
    возврат []
;

@ВПроекте
@Реализация
метод КомандыПанелиДействий(): ЧитаемыйМассив<Команда>
    возврат []
;

@ВПроекте
@Реализация
метод ДополнительныеКомандыПанелиГлавное(): ЧитаемыйМассив<Команда>
    возврат []
;
// Конец ОсновнойИнтерфейсПоставщик

// Контракт PushУведомленияОбработчик
@ВПроекте 
@Реализация
метод ВыполнитьДействие(ДанныеPush: PushУведомления.ДанныеPush)
    выбор
    когда ДанныеPush.Ссылка это Отсутствие.Ссылка
        пер Заявление: Отсутствие.Ссылка = ДанныеPush.Ссылка как Отсутствие.Ссылка
        пер ДействиеPushУведомления: ВызовСервера.ДействиеPushУведомленияОбОтсутствии 
            = ВызовСервера.ДействиеPushУведомления(Заявление, ДанныеPush.Действие, ДанныеPush.Текст, Отсутствия.ВидСогласуемогоЗаявленияОтсутствие(), Криптография.ПараметрыСеанса().ПарольЗакрытогоКлючаПользователя)
        если ДействиеPushУведомления == ВызовСервера.ДействиеPushУведомленияОбОтсутствии.ОткрытьФормуРаздела
            и ВладельцыКабинетов.ЭтоРуководительПодразделения()
            НавигацияРуководителю.Выполнить()
        ;
    когда ДанныеPush.Ссылка это ЗаявлениеНаОтпуск.Ссылка
        пер Заявление: ЗаявлениеНаОтпуск.Ссылка = ДанныеPush.Ссылка как ЗаявлениеНаОтпуск.Ссылка
        пер ДействиеPushУведомления: ВызовСервера.ДействиеPushУведомленияОбОтсутствии 
            = ВызовСервера.ДействиеPushУведомления(Заявление, ДанныеPush.Действие, ДанныеPush.Текст, Отпуск.ВидСогласуемогоЗаявленияОтпуск(), Криптография.ПараметрыСеанса().ПарольЗакрытогоКлючаПользователя)
        если ДействиеPushУведомления == ВызовСервера.ДействиеPushУведомленияОбОтсутствии.ОткрытьФормуРаздела
            и ВладельцыКабинетов.ЭтоРуководительПодразделения()
            НавигацияРуководителю.Выполнить()
        ;
    когда ДанныеPush.Ссылка это ЗаявлениеНаПереносОтпуска.Ссылка
        пер Заявление: ЗаявлениеНаПереносОтпуска.Ссылка = ДанныеPush.Ссылка как ЗаявлениеНаПереносОтпуска.Ссылка
        пер ДействиеPushУведомления: ВызовСервера.ДействиеPushУведомленияОбОтсутствии 
            = ВызовСервера.ДействиеPushУведомления(Заявление, ДанныеPush.Действие, ДанныеPush.Текст, Отпуск.ВидСогласуемогоЗаявленияОтпуск(), Криптография.ПараметрыСеанса().ПарольЗакрытогоКлючаПользователя)
        если ДействиеPushУведомления == ВызовСервера.ДействиеPushУведомленияОбОтсутствии.ОткрытьФормуРаздела
            и ВладельцыКабинетов.ЭтоРуководительПодразделения()
            НавигацияРуководителю.Выполнить()
        ;
    ;
;
// Конец PushУведомленияОбработчик

метод ОписаниеРазделаРуководителю(): ОсновнойИнтерфейс.ОписаниеРаздела
    возврат новый ОсновнойИнтерфейс.ОписаниеРаздела(
        Ид = Руководителю.ИД_РАЗДЕЛА_РУКОВОДИТЕЛЮ,
        Имя = "Руководителю",
        Пиктограмма = НавигацияРуководителю.Изображение,
        ЦветПиктограммы = БиблиотекаЦветов.ВидыЦвета.Красный,
        НавигационнаяКомандаРаздела = НавигацияРуководителю,
        ШиринаДляПанелиНавигации = 236)
;

метод ОписаниеВиджетаРуководителю(): ОсновнойИнтерфейс.ОписаниеВиджета
    возврат новый ОсновнойИнтерфейс.ОписаниеВиджета(
        Ид = Руководителю.ИД_РАЗДЕЛА_РУКОВОДИТЕЛЮ,
        ИдРаздела = Руководителю.ИД_РАЗДЕЛА_РУКОВОДИТЕЛЮ,
        Имя = "Руководителю",
        Компонент = новый РуководителюВиджетСодержимое())
;