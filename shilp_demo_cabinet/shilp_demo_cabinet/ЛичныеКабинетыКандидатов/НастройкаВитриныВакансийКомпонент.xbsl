импорт УниверсальныеМеханизмы
импорт ИнтерфейсныеКомпонентыСтандартные

@ВПроекте
@Реализация
метод Инициализировать()
    Прочитать(Настройка())
;

@Обработчик
метод ПослеЧтения()
    ФоновоеИзображение = ПрисоединенныйФайл(Объект.ФоновоеИзображение)
;

@Обработчик
метод ПередЗаписьюОбъекта()
    УстановитьПараметрыЗаписи(ПараметрыЗаписи)
;

@Обработчик
метод ПослеЗаписиОбъекта()
    СобственнаяМодифицированность = Ложь    
;

метод УстановитьПараметрыЗаписи(ПараметрыЗаписи: НастройкиВитриныВакансий.ПараметрыЗаписи)
    ПараметрыЗаписи.ФоновоеИзображение = Компоненты.ФоновоеИзображение.Изображение
;

метод СохранитьОбработчик(Команда: ОбычнаяКоманда)
    Записать()    
;

метод ФоновоеИзображениеПриИзменении(Источник: ПрисоединенноеИзображениеКомпонент, Событие: СобытиеКомпонента)
    СобственнаяМодифицированность = Истина
;

@НаСервере @ДоступноСКлиента
статический метод Настройка(): НастройкиВитриныВакансий.Ссылка
    возврат НастройкиВитриныВакансий.Получить()
;

@НаСервере @ДоступноСКлиента
статический метод ПрисоединенныйФайл(Файл: Файлы.Ссылка?): ПрисоединенныйФайл
    если Файл != Неопределено
        возврат ПрисоединенныеФайлыМенеджер.ПрисоединенныйФайл(Файл)
    иначе
        возврат новый ПрисоединенныйФайл()
    ;
;