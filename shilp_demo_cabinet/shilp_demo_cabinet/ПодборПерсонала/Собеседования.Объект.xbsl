импорт ИнтерфейсныеКомпонентыСтандартные
импорт ОбщиеСтандартные

@ВПроекте
@Реализация
метод ИзображениеАктивности(): ДвоичныйОбъект.Ссылка
    возврат Ресурс{ГалочкаДекаграмм.svg}.Ссылка
;

@ВПроекте
@Реализация
метод ЦветИзображенияАктивности(): Цвет | Авто
    возврат БиблиотекаЦветов.Цвет(БиблиотекаЦветов.ВидыЦвета.Оранжевый)
;

@Обработчик
@ВыполнятьПриЗагрузкеДанных
метод ПередУдалением(ПараметрыУдаления: Собеседования.ПараметрыУдаления)
    МенеджерСущности.УдалитьПодчиненныеОбъекты(Ссылка, Тип<Комментарии>, "ВладелецКомментария")
;

@Обработчик
@ВыполнятьПриЗагрузкеДанных
метод ПослеЗаписи(До: Собеседования.Данные, ПараметрыЗаписи: Собеседования.ПараметрыЗаписи)
    исп КонтекстДоступа.Привилегированный()
    Собеседования.ПослеЗаписиДополнение(Ссылка, не ПараметрыЗаписи.РежимЗагрузкиДанных)
    знч Сервисы = УведомленияПодбораПерсонала.ПолучитьСервисы()
    для Сервис из Сервисы
        Сервис.ПослеЗаписиСобеседования(этот, До, ПараметрыЗаписи, ЭтоНовый())
    ;
    
    если До.ЭтоНовый()
        СтатусыРассматриваемыхКандидатов.УстановитьПоТриггеру(Кандидат, ТриггерыПодбораПерсонала.ПриНазначенииСобеседования)    
    ;
    Собеседования.ПересчитатьРазрешенияЗависимыхОбъектов([новый Собеседования.ДанныеРасчетаРазрешений(этот)])
;

@Обработчик
@ВыполнятьПриЗагрузкеДанных
метод ПослеУдаления(ПараметрыУдаления: Собеседования.ПараметрыУдаления)
    исп КонтекстДоступа.Привилегированный()
    Собеседования.ПослеУдаленияДополнение(Ссылка, не ПараметрыУдаления.РежимЗагрузкиДанных)
;