импорт СтандартноеПриложение
импорт ИнтерфейсныеКомпонентыСтандартные

@ВПроекте
@Реализация
метод Инициализировать()
    ИнтерфейсныеКомпоненты.ИнициализироватьПодчиненныеКомпоненты(Компоненты)
;

метод СотрудникиВидимость(): Булево
    возврат не ОсновнойИнтерфейс.РаботаНаУзкомУстройстве()
;

метод СписокПодразделенийИспользоватьПриВыбореСтруктурнойЕдиницы(): Булево
    возврат не ОсновнойИнтерфейс.РаботаНаУзкомУстройстве()
;

метод СписокПодразделенийПриВыбореСтруктурнойЕдиницы(Источник: СтруктураПредприятияКомпонент, Событие: СобытиеСДанными<СтруктураПредприятияКомпонент.ПараметрСобытияПриВыбореСтруктурнойЕдиницы>)
    если не ОсновнойИнтерфейс.РаботаНаУзкомУстройстве()
        пер ЭлементСтруктуры: ЭлементСтруктурыКомпонент = Компоненты.ЭлементСтруктуры
        ЭлементСтруктуры.Данные = Событие.Данные.ДанныеСтроки
        ЭлементСтруктуры.Подразделение = Событие.Данные.Подразделение
        ЭлементСтруктуры.ФизическоеЛицо = Событие.Данные.ФизическоеЛицо
        ЭлементСтруктуры.РежимОтображения = Событие.Данные.РежимОтображения
        ЭлементСтруктуры.Инициализировать()
    иначе если Событие.Данные.Подразделение == Неопределено и Событие.Данные.ФизическоеЛицо != Неопределено 
        пер КомпонентКарточкаСотрудника = новый КарточкаСотрудника(ФизическоеЛицо = Событие.Данные.ФизическоеЛицо)
        КомпонентКарточкаСотрудника.ОткрытьВМодальномОкне()
    иначе
        пер КомпонентКарточкаПодразделения = новый КарточкаПодразделения(Подразделение = Событие.Данные.Подразделение)
        КомпонентКарточкаПодразделения.ОткрытьВМодальномОкне()
    ;
;