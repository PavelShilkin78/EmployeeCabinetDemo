импорт ВебApi
импорт УниверсальныеМеханизмы
импорт УниверсальныеМеханизмы::ШаблоныДокументов

@ВПодсистеме
метод ОбновитьСправкиСМестаРаботы(ЗапросHttp: HttpСервисЗапрос, ФорматОбмена: Версия? = Неопределено)
    ВебApiСервер.ЗагрузитьОбъекты(ЗапросHttp, Тип<СправкаСМестаРаботы.Ссылка>, 
    новый ВебApiСервер.ИнструментыМенеджераОбъекта(
        (Объект: Сущность.Объект) -> (Объект как СправкаСМестаРаботы.Объект).Записать()
    ), ФорматОбмена)
;

@ВПодсистеме
метод ОбновитьСправкуСМестаРаботы(ЗапросHttp: HttpСервисЗапрос, ФорматОбмена: Версия? = Неопределено)
    ВебApiСервер.ЗагрузитьОбъект(ЗапросHttp, Тип<СправкаСМестаРаботы.Ссылка>, 
    новый ВебApiСервер.ИнструментыМенеджераОбъекта(
        (Объект: Сущность.Объект) -> (Объект как СправкаСМестаРаботы.Объект).Записать()
    ), ФорматОбмена)
;

@ВПодсистеме
метод УдалитьСправкуСМестаРаботы(ЗапросHttp: HttpСервисЗапрос)
    ВебApiСервер.УдалитьОбъектПоИдентификатору(ЗапросHttp, 
        новый СервисыHttp.ОжидаемыйПараметр("ID", Истина, СервисыHttp.ТипыПараметраUrl.Строка),
        (Объект: Справочник.Объект) -> (Объект как СправкаСМестаРаботы.Объект).Удалить())
;

@ВПодсистеме
метод ОбновитьСостояниеЗапросаСправкиСМестаРаботы(ЗапросHttp: HttpСервисЗапрос, ФорматОбмена: Версия? = Неопределено)
    ВебApiСервер.ЗагрузитьОбъект(ЗапросHttp, Тип<СостояниеДокументов.Ссылка>,
        [новый СервисыHttp.ОжидаемыйПараметр("requestID", Истина, СервисыHttp.ТипыПараметраUrl.Строка),
        новый СервисыHttp.ОжидаемыйПараметр("status", Истина, СервисыHttp.ТипыПараметраUrl.Строка)], 
    новый ВебApiСервер.ИнструментыМенеджераОбъекта(
        (Объект: Сущность.Объект) -> (Объект как СостояниеДокументов.Объект).Записать()
    ), ФорматОбмена)
;

@ВПодсистеме
метод ПолучитьЗапросСправкиСМестаРаботы(ЗапросHttp: HttpСервисЗапрос, ФорматОбмена: Версия? = Неопределено)
    ВебApiСервер.ОтправитьОбъектПоСсылке(ЗапросHttp, Тип<ЗапросСправкиСМестаРаботы.Ссылка>, 
        новый СервисыHttp.ОжидаемыйПараметр("ID", Истина, СервисыHttp.ТипыПараметраUrl.Строка), 
        (Ууид) -> ЗапросСправкиСМестаРаботы.ПолучитьСсылку(Ууид), ФорматОбмена)
;

@ВПодсистеме
метод ОбновитьВидыСправокСМестаРаботы(ЗапросHttp: HttpСервисЗапрос, ФорматОбмена: Версия? = Неопределено)
    ВебApiСервер.ЗагрузитьОбъекты(ЗапросHttp, Тип<ВидыПроизвольныхСправок.Ссылка>, 
    новый ВебApiСервер.ИнструментыМенеджераОбъекта(
        (Объект: Сущность.Объект) -> (Объект как ВидыПроизвольныхСправок.Объект).Записать()
    ), ФорматОбмена)
;

@ВПодсистеме
метод ОбновитьВидСправкиСМестаРаботы(ЗапросHttp: HttpСервисЗапрос, ФорматОбмена: Версия? = Неопределено)
    ВебApiСервер.ЗагрузитьОбъекты(ЗапросHttp, Тип<ВидыПроизвольныхСправок.Ссылка>, 
    новый ВебApiСервер.ИнструментыМенеджераОбъекта(
        (Объект: Сущность.Объект) -> (Объект как ВидыПроизвольныхСправок.Объект).Записать()
    ), ФорматОбмена)
;

@ВПодсистеме
метод ПолучитьВидСправкиСМестаРаботы(ЗапросHttp: HttpСервисЗапрос, ФорматОбмена: Версия? = Неопределено)
    ВебApiСервер.ОтправитьОбъектПоИдентификатору(ЗапросHttp, Тип<ВидыПроизвольныхСправок.Ссылка>, 
        новый СервисыHttp.ОжидаемыйПараметр("ID", Истина, СервисыHttp.ТипыПараметраUrl.Строка), ФорматОбмена)
;

@ВПодсистеме
метод УдалитьВидСправкиСМестаРаботы(ЗапросHttp: HttpСервисЗапрос)
    ВебApiСервер.УдалитьОбъектПоИдентификатору(ЗапросHttp, 
        новый СервисыHttp.ОжидаемыйПараметр("ID", Истина, СервисыHttp.ТипыПараметраUrl.Строка),
        (Объект: Справочник.Объект) -> (Объект как ВидыПроизвольныхСправок.Объект).Удалить())
;

@ВПодсистеме
метод ЗаписатьШаблонЗаявления(ЗапросHttp: HttpСервисЗапрос)
    ШаблоныДокументовМенеджер.ЗаписатьШаблонДокумента(
        Справки.ПОДСИСТЕМА_СПРАВКИ,
        Справки.ШАБЛОН_ЗАЯВЛЕНИЯ_СПРАВКИ_С_МЕСТА_РАБОТЫ,
        ЗапросHttp)
;

//КонецОбласти