импорт ЛичныеКабинетыПользователей
импорт ИнтерфейсныеКомпонентыСтандартные
импорт ФизическиеЛица
импорт Компания
импорт ВладельцыКабинетов
импорт СтандартноеПриложение

метод ПриложениеОтключеноЗаголовок(): Строка
    если ПриложениеДоступноВходАдминистратора()
        возврат "Ограничение использования"
    иначе
        возврат "Сервис временно отключен"
    ;
;

метод ПредупреждениеТекстЗаголовок(): Строка
    пер ПредупреждениеТекст: Строка
    пер Обращение: Строка = ВладельцыКабинетов.ПараметрыСеанса().ФИО.ПредставлениеИмени(ФизЛица.ВариантПредставленияИмени.ИмяОтчество)
    если не ЛичныеКабинетыПользователей.ПараметрыСеанса().ДоступностьКабинета
        ПредупреждениеТекст =  
            "%Обращение!
            Ваша организация временно отключила доступ к вашему личному кабинету.
            Это не связано с работой самого приложения, ваши данные по-прежнему находятся здесь, но недоступны по решению вашего руководства.    
            Свяжитесь со своим руководителем, чтобы узнать причину и срок отключения."
    иначе если ВладельцыКабинетов.ПараметрыСеанса().ТекущийПользовательАдминистраторАбонента 
        если Приложение.ПараметрыСеанса().ДоступностьПриложения
            ПредупреждениеТекст =  
                "%Обращение!
                В личном кабинете сейчас нет информации о вашем месте работы. 
                Это связано с тем, что вы еще не опубликовали информацию о себе как о сотруднике. До появления информации о том, в какой организации вы работаете, вы сможете работать с приложением только как администратор, но не как сотрудник."
        иначе
            ПредупреждениеТекст =  
                "%Обращение!
                Доступ пользователей к приложению заблокирован, обмен данными приостановлен, но все данные сохранены.
                Для восстановления доступа необходимо оплатить подписку на сервис 1С:Кабинет сотрудника.
                Вам не потребуется вновь настраивать работу приложения и подключать сотрудников - все данные станут доступны после оплаты.
                Если личных кабинетов создано больше чем оплачено, вы можете некоторым сотрудникам временно отключить доступ к кабинетам не удаляя их."
        ;
    иначе если не Компания.ПараметрыСеанса().ТекущийПользовательСотрудник
        ПредупреждениеТекст =  
            "%Обращение!
            В личном кабинете сейчас нет информации о вашем месте работы. 
            Это не связано с работой самого приложения, ваши данные по-прежнему находятся здесь, но до появления информации о том, в какой организации вы работаете, работа с приложением невозможна.    
            Свяжитесь со своим руководителем или кадровой службой, чтобы узнать причину недоступности информации."
    иначе
        ПредупреждениеТекст =  
            "%Обращение!
            Ваша организация приостановила доступ своих сотрудников к личным кабинетам.
            Это не связано с работой самого приложения, ваши данные по-прежнему находятся здесь, но пока недоступны по решению вашего руководства.    
            Свяжитесь со своим руководителем, чтобы узнать причину и срок отключения."
    ;
    возврат ПредупреждениеТекст
;

метод ПонятноПриНажатии(Источник: Кнопка, Событие: СобытиеПриНажатии)
    если ВладельцыКабинетов.ПараметрыСеанса().ТекущийПользовательАдминистраторАбонента
        // после ознакомления с текстом при входе приложение становится доступным администратору абонента 
        Приложение.ПараметрыСеанса().ДоступностьПриложения = Истина
        (КлиентскоеПриложение как ОсновноеПриложение).ИнициализироватьКомандныйИнтерфейс(Истина, Истина)
    иначе 
        Аутентификация.ЗавершитьТекущийСеанс()
    ;
;

метод ПонятноМаксимальнаяШирина(): Число
    возврат КомандыФормДокументов.МаксимальнаяШирина()
;

метод ПонятноМинимальнаяШирина(): Число
    возврат КомандыФормДокументов.МинимальнаяШирина()
;

метод ПонятноРастягиватьПоГоризонтали(): Булево | Авто
    возврат КомандыФормДокументов.РастягиватьПоГоризонтали()
;

метод ПриложениеДоступноВходАдминистратора(): Булево
    возврат ВладельцыКабинетов.ПараметрыСеанса().ТекущийПользовательАдминистраторАбонента
         и Приложение.ПараметрыСеанса().ДоступностьПриложения
;