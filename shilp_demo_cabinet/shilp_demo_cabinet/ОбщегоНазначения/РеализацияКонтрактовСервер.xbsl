импорт СтандартноеПриложение
импорт КонтрольДоступа
импорт ФизическиеЛица
импорт ОбщиеСтандартные
импорт Уведомления
импорт ВладельцыКабинетов
импорт Отсутствия
импорт Отпуск
импорт Документы
импорт Компания
импорт Зарплата
импорт Справки
импорт Обсуждения

// Контракт ПараметрыСеансаПоставщик
@ВПроекте
@Реализация
метод КоллекцияПараметровСеанса(МобильныйИнтерфейс: Булево): Соответствие<Строка, Объект>
    пер ПараметрыСеанса = новый ОбщегоНазначения.ПараметрыСеанса()
    ЗаполнитьПараметрыСеанса(ПараметрыСеанса)
    возврат {ОбщегоНазначения.КЛЮЧ_ПАРАМЕТРОВ_СЕАНСА: ПараметрыСеанса}
;
// Конец ПараметрыСеансаПоставщик

// Контракт РассылкаУведомлений

@ВПроекте
@Реализация
метод ОтправитьУведомлениеПолучателю(Получатель: Объект, Тексты: РассылкаУведомлений.ТекстыУведомления)
    знч ФизическоеЛицо = Получатель как ФизическиеЛица.Ссылка
    знч ТекстыСообщений = новый УведомленияСервер.ТекстыСообщений(Тексты.Заголовок, Тексты.КороткоеСообщение, Тексты.КороткоеСообщение, Тексты.РасширенноеСообщение)
    пер ДанныеУведомления = новый УведомленияСервер.ДанныеУведомления(Уведомления.ВидыУведомлений.ПерсональнаяИнформация, ФизическоеЛицо)
    УведомленияСервер.ОтправитьУведомление(ФизическоеЛицо, ТекстыСообщений, ДанныеУведомления)
;

// Конец РассылкаУведомлений

метод ЗаполнитьПараметрыСеанса(ПараметрыСеанса: ОбщегоНазначения.ПараметрыСеанса)
    пер ФизическоеЛицо: ФизическиеЛица.Ссылка? = ПользователиСистемы.ТекущееФизическоеЛицо()
    если ФизическоеЛицо == Неопределено
        возврат
    ;

    ПараметрыСеанса.ФункциональныеОпции = ИспользуемаяФункциональность.ФункциональныеОпции()
;