импорт СтандартноеПриложение
импорт ОбщегоНазначения
импорт ФизическиеЛица

@Обработчик
метод ПослеЧтения()
    пер ТабличныеЧасти = ДанныеТабличныхЧастей(Объект.Документ)
    ТаблицаЗаместители = ТабличныеЧасти.ТаблицаЗаместители
;

метод ОтсутствияКарточкаШирина(): Число
    возврат ОсновнойИнтерфейс.МаксимальнаяШиринаФормыДокумента()
;

метод НачалоОкончаниеЗаголовок(): Строка
    если (Объект.Внутрисменное)
        возврат Отсутствия.ПредставлениеВнутрисменногоОтсутствия(
            Объект.Начало, Объект.Окончание, Неопределено)
    иначе
        возврат Отсутствия.ПредставлениеОтсутствия(
            Объект.ДатаНачала, Объект.ДатаОкончания, Неопределено)
    ;
;

метод ПричинаЗначение(): Строка
    пер Причина: ВидыОтсутствий = Объект.Причина
    возврат Причина.Представление()
;

метод СпособСвязиЗначение(): Строка
    пер СпособСвязи: СпособыСвязи = Объект.СпособСвязи
    возврат СпособСвязи.Представление()
;

метод ЗаместителиВидимость(): Булево
    возврат (Объект.Причина != ВидыОтсутствий.Опоздание)
;

метод НачалоОкончаниеСЗаголовкомВидимость(): Булево
    возврат не ТолькоЧтение
;

метод ПричинаСЗаголовкомВидимость(): Булево
    возврат не ТолькоЧтение
;

метод КомментарийСЗаголовкомВидимость(): Булево
    возврат не (Объект.Комментарий).Пусто()
;

метод ОтсутствияКарточкаШринаПолейВвода(): Число
    если КлиентскоеУстройство.ВидИнтерфейса == ВидИнтерфейса.Телефон 
        возврат 376
    иначе
        возврат 280
    ;
;

метод ОтсутствияКарточкаМинимальнаяШринаПолейВвода(): Число
    возврат 280
;

@НаСервере @НаКлиенте
структура ТабличныеЧасти
    пер ТаблицаЗаместители: Заместители?
;

@НаСервере @ДоступноСКлиента
статический метод ДанныеТабличныхЧастей(Владелец: неизвестно): ТабличныеЧасти
    пер ДанныеТабличныхЧастей: ТабличныеЧасти
    если Владелец != Неопределено
        ДанныеТабличныхЧастей.ТаблицаЗаместители = ЗаместителиМенеджер.Заместители(Владелец, Тип<ОтсутствиеЗаместители.Ссылка>)
    ;
    возврат ДанныеТабличныхЧастей
;