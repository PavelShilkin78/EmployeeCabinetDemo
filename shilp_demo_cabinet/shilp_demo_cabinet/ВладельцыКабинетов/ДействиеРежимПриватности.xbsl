импорт КонтрольДоступа

@Обработчик
метод Обработчик()
    ВладельцыКабинетов.ПараметрыСеанса().РежимПриватностиПриложения = не ВладельцыКабинетов.ПараметрыСеанса().РежимПриватностиПриложения
    УстановитьТекущийРежимПриватности(ВладельцыКабинетов.ПараметрыСеанса().РежимПриватностиПриложения)
    СтатистикаИспользованияПриложения.ЗарегистрироватьЦель("РежимПриватности")
;

@НаСервере @ДоступноСКлиента
статический метод УстановитьТекущийРежимПриватности(РежимПриватностиПриложения: Булево)
    знч ТекущееФизическоеЛицо = ПользователиСистемы.ТекущееФизическоеЛицо()
    НастройкиФизическихЛиц.УстановитьЗначениеРеквизита(
        НастройкиФизическихЛиц.НастройкиФизическогоЛица(ТекущееФизическоеЛицо), 
        "ТекущийРежимПриватности", 
        РежимПриватностиПриложения, ТекущееФизическоеЛицо)
;